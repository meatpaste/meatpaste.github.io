<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PHP Syntax Typing Tutor</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      #user-input .typing-cursor {
        display: inline-block;
        width: 1ch;
        height: 1em;
        border-left: 2px solid #FFD966;
        animation: blink-cursor 1s steps(1) infinite;
        vertical-align: bottom;
      }
      @keyframes blink-cursor {
        0%, 60% { opacity: 1; }
        61%, 100% { opacity: 0; }
      }
      #user-pane.flash-error {
        animation: flash-red 0.15s linear;
        border-color: #ff4d4d !important;
        box-shadow: 0 0 10px 2px #ff4d4d;
        background-color: #4d0000 !important;
      }
      @keyframes flash-red {
        0% { box-shadow: 0 0 0 0 #ff4d4d; border-color: #ffd966; background-color: #222; }
        50% { box-shadow: 0 0 10px 2px #ff4d4d; border-color: #ff4d4d; background-color: #4d0000; }
        100% { box-shadow: 0 0 0 0 #ff4d4d; border-color: #ffd966; background-color: #222; }
      }
      #snippet, #user-input {
        font-size: 1rem !important;
      }
    </style>
</head>
<body class="font-mono bg-gray-100 m-0 p-0">
    <div class="max-w-6xl mx-auto bg-white rounded-lg shadow-lg p-8 mt-8">
        <h1 class="text-center text-3xl font-bold mb-6">PHP Syntax Typing Tutor</h1>
        <div class="mb-4">
          <div class="mb-1 flex justify-between items-center">
            <span class="text-sm font-semibold text-gray-700">Level Progress</span>
            <span id="level-progress-label" class="text-xs text-gray-500"></span>
          </div>
          <div id="level-progress-bar" class="w-full h-4 bg-gray-200 rounded overflow-hidden">
            <div id="level-progress-fill" class="h-4 bg-green-400 transition-all duration-300" style="width:0%"></div>
          </div>
          <div class="mt-2 mb-1 flex justify-between items-center">
            <span class="text-sm font-semibold text-gray-700">Level Up Progress</span>
            <span id="levelup-progress-label" class="text-xs text-gray-500"></span>
          </div>
          <div id="levelup-progress-bar" class="w-full h-3 bg-gray-200 rounded overflow-hidden">
            <div id="levelup-progress-fill" class="h-3 bg-blue-400 transition-all duration-300" style="width:0%"></div>
          </div>
        </div>
        <div id="metrics" class="mb-4 text-lg"></div>
        
        <div id="main-panes" class="flex flex-col md:flex-row gap-8 mb-8">
            <div id="user-pane" class="flex-1 bg-gray-900 text-white rounded-lg p-4 pb-10 min-h-[180px] relative border-2 border-yellow-300 transition">
                <h2 class="mt-0 text-lg text-yellow-300">Your Typing</h2>
                <pre id="user-input" class="font-inherit whitespace-pre-wrap break-words min-h-[90px] relative"></pre>
                <textarea id="hidden-input" class="absolute opacity-0 w-0 h-0 overflow-hidden" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"></textarea>
            </div>
            <div id="snippet-pane" class="flex-1 bg-gray-900 text-white rounded-lg p-4 pb-10 min-h-[90px] relative border-2 border-gray-400">
                <h2 class="mt-0 text-lg text-yellow-300">PHP Snippet</h2>
                <pre id="snippet" class="font-inherit whitespace-pre-wrap break-words min-h-[90px]"></pre>
            </div>
        </div>
        <div id="keyboard" class="mt-8 select-none text-center"></div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <script src="snippets.js"></script>
    <script src="app.js"></script>
</body>
</html>
